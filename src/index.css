@import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300;9..144,400;9..144,600&family=Amiri:ital,wght@0,400;0,700;1,400&family=Cinzel:wght@400;600&display=swap');
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-emerald-950: #022c22;
  --color-emerald-900: #064e3b;
  --color-emerald-800: #065f46;
  --color-emerald-700: #047857;
  --color-emerald-600: #059669;
  --color-emerald-500: #10b981;
  --color-emerald-400: #34d399;
  --color-emerald-300: #6ee7b7;
  --color-emerald-200: #a7f3d0;
  --color-emerald-100: #d1fae5;
  --color-emerald-50: #ecfdf5;

  --color-gold-50: #fffbeb;
  --color-gold-100: #fef3c7;
  --color-gold-200: #fde68a;
  --color-gold-300: #fcd34d;
  --color-gold-400: #d4a843;
  --color-gold-500: #b8860b;
  --color-gold-600: #92650a;

  --color-stone-50: #fafaf9;
  --color-stone-100: #f5f5f4;
  --color-stone-200: #e7e5e4;
  --color-stone-800: #292524;
  --color-stone-900: #1c1917;
  --color-stone-950: #0c0a09;

  --surface-canvas: #f6f5f0;
  --surface-card: #ffffff;
  --surface-card-dark: #1c1917;

  --shadow-card: 0 1px 2px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.02);
  --shadow-card-hover: 0 8px 24px rgba(0, 0, 0, 0.06);

  --motion-fast: 150ms;
  --motion-base: 300ms;
}

/* Base */
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: var(--surface-canvas);
  color: #1c1917;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.dark body,
:where(.dark) body {
  background-color: #0c0a09;
  color: #e7e5e4;
}

/* === Cards === */
.mc-card {
  background: var(--surface-card);
  border: 1px solid #e7e5e4;
  border-radius: 1rem;
  box-shadow: var(--shadow-card);
  transition: all var(--motion-base) cubic-bezier(0.16, 1, 0.3, 1);
}
.mc-card:hover {
  border-color: #d6d3d1;
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-2px);
}
.dark .mc-card {
  background: var(--surface-card-dark);
  border-color: #292524;
  box-shadow: none;
}
.dark .mc-card:hover {
  border-color: #44403c;
  background: #292524;
}

/* === Inputs === */
.mc-input {
  width: 100%;
  padding: 0.625rem 0.875rem;
  border: 1px solid #e7e5e4;
  border-radius: 0.625rem;
  font-size: 0.875rem;
  background: white;
  color: #1c1917;
  transition: border-color 0.2s, box-shadow 0.2s;
  outline: none;
}
.mc-input:focus {
  border-color: #059669;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.1);
}
.dark .mc-input {
  background: #1c1917;
  border-color: #44403c;
  color: #e7e5e4;
}
.dark .mc-input:focus {
  border-color: #34d399;
  box-shadow: 0 0 0 2px rgba(52, 211, 153, 0.1);
}

/* === Islamic design tokens === */
.gradient-islamic {
  background: linear-gradient(135deg, #022c22, #064e3b, #065f46);
}

.islamic-pattern {
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4a843' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.lantern-glow {
  filter: drop-shadow(0 0 8px rgba(212, 168, 67, 0.4));
}

.countdown-glow {
  text-shadow: 0 0 20px rgba(212, 168, 67, 0.3);
}

.star-glow {
  filter: drop-shadow(0 0 12px rgba(212, 168, 67, 0.3));
}

/* === Safe area insets === */
.pt-safe { padding-top: env(safe-area-inset-top); }
.pb-safe { padding-bottom: env(safe-area-inset-bottom); }
.px-safe {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* === Fonts === */
.font-amiri { font-family: Amiri, serif; }
.font-cinzel { font-family: Cinzel, serif; }
.font-display { font-family: "Fraunces", Georgia, serif; }
.font-mono-text { font-family: "Courier New", Courier, monospace; }

/* === Animations === */
@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes float1 {
  0%, 100% { transform: translateY(0) rotate(-5deg); }
  50% { transform: translateY(-20px) rotate(5deg); }
}

@keyframes float2 {
  0%, 100% { transform: translateY(0) rotate(5deg); }
  50% { transform: translateY(-15px) rotate(-5deg); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes pageEnter {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out;
}

.page-enter {
  animation: pageEnter 0.2s ease-out;
}

/* === Skeleton === */
.skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% auto;
  animation: shimmer 1.5s linear infinite;
  border-radius: 0.5rem;
}
.dark .skeleton {
  background: linear-gradient(90deg, #1c1917 25%, #292524 50%, #1c1917 75%);
  background-size: 200% auto;
}

/* === Progress shimmer === */
.progress-shimmer {
  background: linear-gradient(90deg, #d4a843, #fcd34d, #d4a843);
  background-size: 200% auto;
  animation: shimmer 3s linear infinite;
}

/* === Lanterns === */
.lantern {
  position: absolute;
  font-size: 1.5rem;
  pointer-events: none;
}
.lantern-1 { top: 15%; right: 10%; animation: float1 8s ease-in-out infinite; }
.lantern-2 { top: 40%; left: 8%; animation: float2 10s ease-in-out 1s infinite; }
.lantern-3 { font-size: 1rem; top: 25%; right: 25%; animation: float1 12s ease-in-out 2s infinite; }
.lantern-4 { font-size: 0.8rem; top: 55%; left: 20%; animation: float2 9s ease-in-out 0.5s infinite; }

/* === Skip link === */
.skip-link {
  position: absolute;
  top: -100%;
  left: 1rem;
  padding: 0.5rem 1rem;
  background: #059669;
  color: white;
  border-radius: 0 0 0.5rem 0.5rem;
  z-index: 9999;
  font-size: 0.875rem;
  text-decoration: none;
  font-weight: 600;
}
.skip-link:focus {
  top: 0;
}

/* === Focus visible (accessibility) === */
:focus-visible {
  outline: 2px solid #059669;
  outline-offset: 2px;
  border-radius: 4px;
}

/* === Touch feedback === */
.touch-feedback {
  -webkit-tap-highlight-color: rgba(5, 150, 105, 0.1);
  tap-highlight-color: rgba(5, 150, 105, 0.1);
}

/* === Scrollbar === */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 2px; }
.dark ::-webkit-scrollbar-thumb { background: #44403c; }

/* === Prayer strip responsive === */
@media (max-width: 360px) {
  .prayer-label { font-size: 7px !important; }
  .prayer-time { font-size: 9px !important; }
}

/* === Section & hero utilities === */
.faith-section {
  border-radius: 1rem;
  overflow: hidden;
}

.faith-hero {
  position: relative;
  overflow: hidden;
  border-radius: 0 0 1.5rem 1.5rem;
}

.faith-canvas {
  min-height: 100vh;
  min-height: 100dvh;
}

/* === Slide-up animation === */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

/* === Gold gradient text === */
.text-gold-gradient {
  background: linear-gradient(135deg, #d4a843, #fcd34d, #d4a843);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* === Islamic divider === */
.islamic-divider {
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    rgba(212, 168, 67, 0.3),
    rgba(212, 168, 67, 0.5),
    rgba(212, 168, 67, 0.3),
    transparent
  );
  margin: 0.75rem 0;
}
.dark .islamic-divider {
  background: linear-gradient(
    to right,
    transparent,
    rgba(212, 168, 67, 0.15),
    rgba(212, 168, 67, 0.25),
    rgba(212, 168, 67, 0.15),
    transparent
  );
}

/* === Nav pill active state === */
.nav-pill-active {
  background: rgba(236, 253, 245, 0.8);
  border-radius: 1rem;
  padding: 0.25rem 0.75rem;
}
.dark .nav-pill-active {
  background: rgba(6, 78, 59, 0.3);
}

/* === Safe bottom for fixed elements === */
.nav-safe-bottom {
  padding-bottom: max(0.625rem, env(safe-area-inset-bottom));
}
